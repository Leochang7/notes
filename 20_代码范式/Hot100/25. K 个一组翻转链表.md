一定二刷，特别是第二种思路
### 思路
用栈，每次将k个节点压入栈，然后出栈，如果不够k个就直接返回。
迭代，每次拿出长度为 k 的一段子链表，单独反转，再接回原链表。
1. 用 `end` 找到长度为 k 的尾节点
2. 把这一段 **切断**
3. 调用普通链表反转函数
4. 再接回原链表
5. 继续处理下一段
### 解法一：栈
```java
import java.util.ArrayDeque;
class Solution {
    public ListNode reverseKGroup(ListNode head, int k) {
        if (head == null)
            return null;
        ListNode dummy = new ListNode(0, head);
        ListNode pre = dummy;
        ArrayDeque<ListNode> stack = new ArrayDeque<>();
        while (true) {
            ListNode cur = pre.next;
            for (int i = 0; i < k; i++) {
                if (cur == null) {
                    return dummy.next;
                }
                stack.push(cur);
                cur = cur.next;
            }
            while (!stack.isEmpty()) {
                pre.next = stack.pop();
                pre = pre.next;
            }
            pre.next = cur;
        }
    }
}
```
写是写出来了但是这个速度和占用空间有点拉，我想想不用栈的解法
解法二：迭代
```java
import java.util.ArrayDeque;

class Solution {
    public ListNode reverseKGroup(ListNode head, int k) {
		if (k <= 1 || head == null) 
			return head;
        ListNode dummy = new ListNode(0, head);
        ListNode pre = dummy, end = dummy;
        while (end.next != null) {
            for (int i = 0; i < k; i++) {
                end = end.next;
                if (end == null) {
                    return dummy.next;
                }
            }
            ListNode start = pre.next;
            ListNode nex = end.next;
            end.next = null;
            pre.next = reverseList(start);
            start.next = nex;
            pre = start;
            end = pre;
        }
        return dummy.next;
    }

    public ListNode reverseList(ListNode head) {
        ListNode curr = head;
        ListNode pre = null;
        while (curr != null) {
            ListNode p = curr.next;
            curr.next = pre;
            pre = curr;
            curr = p;
        }
        return pre;
    }
}
```
#### 注意的点
1. end的判空要在移动后，不然会出现end已经空了还在访问end.next
2. 反转之后要接入原链表
3. `end.next=null`一定要切断不然会把后面的链表也反转